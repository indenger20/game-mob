{"version":3,"sources":["node_modules/browser-pack/_prelude.js","js/index.js","js/model.js","js/presenter.js","js/static/DOMmethods.js","js/static/eventObj.js","js/view.js"],"names":[],"mappings":"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","file":"build.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\r\nlet View = require('./view');\r\nlet Presenter = require('./presenter');\r\n\r\nnew Presenter(new View());","let eventObj = require('./static/eventObj');\r\n\r\nfunction randomNumbers(a, b) {\r\n    return Math.random() - 0.5;\r\n};\r\n\r\n\r\nfunction mixImages(array) {\r\n    let counter = array.length;\r\n\r\n    // While there are elements in the array\r\n    while (counter > 0) {\r\n        // Pick a random index\r\n        let index = Math.floor(Math.random() * counter);\r\n\r\n        // Decrease counter by 1\r\n        counter--;\r\n\r\n        // And swap the last element with it\r\n        let temp = array[counter];\r\n        array[counter] = array[index];\r\n        array[index] = temp;\r\n    }\r\n\r\n    return array;\r\n}\r\n\r\nmodule.exports = {\r\n    data: [],\r\n    getSize() {\r\n        return new Promise((resolve, reject)=> {\r\n            eventObj.ajaxGet('https://kde.link/test/get_field_size.php', function(data) {\r\n                resolve(data);\r\n            })\r\n        })\r\n    },\r\n    getImages() {\r\n        var imagePath = [];\r\n        for(var i = 0; i<10; i++) {\r\n            imagePath.push('https://kde.link/test/'+ i +'.png');\r\n        }\r\n        return imagePath;\r\n    },\r\n    getMixArr(width, height) {\r\n        let allImg = mixImages( this.getImages() );\r\n        newArr = [];\r\n        let maxImg = allImg.length;\r\n        let counter = 0;\r\n\r\n        for(let i = 0; i < width*height/2; i++) {\r\n            if( !allImg[counter] ) {\r\n                counter = 0;\r\n                continue;\r\n            }\r\n            newArr.push(allImg[counter]);\r\n            if ( allImg[counter] ){\r\n                counter++;\r\n            }\r\n        };\r\n        return newArr;\r\n    },\r\n    saveData(width, height) {\r\n        let firstArr = this.getMixArr(width,height);\r\n        let secondArr = mixImages( firstArr.slice() );\r\n\r\n        this.data = firstArr.concat(secondArr);\r\n    },\r\n    getData(index) {\r\n        let x = 0;\r\n        return this.data;\r\n    },\r\n    getImgToIndex(index) {\r\n        return this.data[index - 1];\r\n    }\r\n\r\n}","let eventObj = require('./static/eventObj');\r\nlet DOMmethods = require('./static/DOMmethods');\r\nlet model = require('./model');\r\n\r\n\r\nmodule.exports = function (view) {\r\n\r\n    model.getSize().then((data)=> {\r\n\r\n        let width = data.width <= 8 ? data.width : 8,\r\n            height = data.height <= 8 ? data.height: 8;\r\n\r\n        view.render(width, height);\r\n\r\n        model.saveData(width, height);\r\n\r\n    });\r\n\r\n    view.on('check', function( target ) {\r\n\r\n        let index = target.parentNode.dataset.id;\r\n        let flag = index ? target.classList.contains('active') : null\r\n        view.closeImg();\r\n        if(index) {\r\n            let thisImg = model.getImgToIndex(index);\r\n            if(!flag) {\r\n                view.openImg(target, thisImg);\r\n            }\r\n\r\n        }\r\n\r\n    });\r\n\r\n\r\n}","let eventObj = require('./eventObj');\r\nmodule.exports =  {\r\n    getId(id) {\r\n        return document.getElementById(id)\r\n    },\r\n\r\n    getTag(tag) {\r\n        return document.getElementsByTagName(tag)\r\n    },\r\n\r\n    getAttr(event, attr) {\r\n        let target = eventObj.getTarget(event);\r\n        let data = target.getAttribute(attr);\r\n\r\n        return data;\r\n    },\r\n\r\n    getName(name) {\r\n        return document.getElementsByName(name);\r\n    },\r\n\r\n    getClass(className) {\r\n        return document.getElementsByClassName(className)\r\n    },\r\n\r\n    getStyle(id) {\r\n        this.getId(id);\r\n        return window.getComputedStyle(this.getId(id))\r\n    },\r\n\r\n    addClass(id, className) {\r\n        var e = this.getId(id);\r\n        return e.classList.add(className);\r\n    },\r\n\r\n    removeClass(id, className) {\r\n        var e = this.getId(id);\r\n        return e.classList.remove(className);\r\n    }\r\n}","module.exports = {\r\n    addEvent: function (e, type, fn) {\r\n        if (typeof addEventListener !== 'undefined') {\r\n            e.addEventListener(type, fn, false);\r\n        } else if (typeof attachEvent !== 'undefined') {\r\n            e.attachEvent('on' + type, fn);\r\n        } else {\r\n            e['on' + type] = fn;\r\n        }\r\n    },\r\n\r\n    removeEvent: function (e, type, fn) {\r\n        if (typeof removeEventListener !== 'undefined') {\r\n            e.removeEventListener(type, fn, false);\r\n        } else if (typeof attachEvent !== 'undefined') {\r\n            e.detachEvent('on' + type, fn);\r\n        } else {\r\n            e['on' + type] = null;\r\n        }\r\n    },\r\n\r\n    getTarget: function (event) {\r\n        var event = window.event || event;\r\n        if (typeof event.target !== 'undefined') {\r\n            return event.target;\r\n        } else {\r\n            return evt.srcElement;\r\n        }\r\n    },\r\n\r\n    preventDefault: function (event) {\r\n        if (typeof event.preventDefault !== 'undefined') {\r\n            event.preventDefault();\r\n        } else {\r\n            event.returnValue = false;\r\n        }\r\n    },\r\n\r\n    ajaxGet: function (url, callback) {\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open('GET', url);\r\n        xhr.onreadystatechange = function(){\r\n            if (this.readyState == 4) {\r\n                if (this.status == 200)\r\n                    callback(JSON.parse(this.responseText));\r\n                // иначе сетевая ошибка\r\n            }\r\n        };\r\n        xhr.send(null);\r\n    }\r\n}","let eventObj = require('./static/eventObj');\r\nlet DOMmethods = require('./static/DOMmethods');\r\n\r\nmodule.exports = function() {\r\n    var thet = this;\r\n    this.handlers = {};\r\n\r\n    document.addEventListener('click', function(e) {\r\n        thet.trigger('check', e.target);\r\n    });\r\n\r\n\r\n    this.render = function(width, height) {\r\n\r\n        let list = document.createElement('ul');\r\n        list.classList.add('game-app__list');\r\n        let counter = 0;\r\n        for(let i = 0; i < height; i++) {\r\n            let row = document.createElement('div');\r\n            for(var j = 0; j < width; j++) {\r\n                counter++;\r\n                let item = document.createElement('li');\r\n                let btn = document.createElement('div');\r\n                let img = document.createElement('img');\r\n\r\n                item.classList.add('game-app__item');\r\n\r\n                btn.classList.add('game-app__link');\r\n                btn.dataset.id = counter;\r\n\r\n                img.classList.add('game-app__img');\r\n                img.src = 'image/default.png';\r\n\r\n                item.style.width = `calc(100%/${width}`;\r\n                btn.appendChild(img);\r\n                item.appendChild(btn);\r\n\r\n                row.classList.add('game-app__row');\r\n                row.append(item);\r\n            }\r\n            list.appendChild(row);\r\n        }\r\n        DOMmethods.getId('container').appendChild(list);\r\n    },\r\n\r\n    this.on = function(event, fn) {\r\n        this.handlers[event] = this.handlers[event] || [];\r\n\r\n        if (this.handlers[event].indexOf(fn) === -1) {\r\n            this.handlers[event].push(fn);\r\n        }\r\n    },\r\n    this.trigger = function(event) {\r\n        if (this.handlers[event]) {\r\n            var args = Array.prototype.slice.call(arguments, 1);\r\n\r\n            this.handlers[event].forEach(function(fn) {\r\n                fn.apply(null, args);\r\n            });\r\n        }\r\n    },\r\n\r\n    this.openImg = function(target, src, flag) {\r\n        console.log(target);\r\n        target.src = src;\r\n        target.parentNode.classList.add('active');\r\n    },\r\n\r\n    this.closeImg = function() {\r\n        let allImg = DOMmethods.getClass('game-app__link');\r\n        for(let i = 0; i < allImg.length; i++) {\r\n            allImg[i].classList.remove('active');\r\n            allImg[i].children[0].src = 'image/default.png';\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n};"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqc1xcaW5kZXguanMiLCJqc1xcbW9kZWwuanMiLCJqc1xccHJlc2VudGVyLmpzIiwianNcXHN0YXRpY1xcRE9NbWV0aG9kcy5qcyIsImpzXFxzdGF0aWNcXGV2ZW50T2JqLmpzIiwianNcXHZpZXcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FDQ0EsSUFBSSxPQUFPLFFBQVEsUUFBUixDQUFYO0FBQ0EsSUFBSSxZQUFZLFFBQVEsYUFBUixDQUFoQjs7QUFFQSxJQUFJLFNBQUosQ0FBYyxJQUFJLElBQUosRUFBZDs7O0FDSkEsSUFBSSxXQUFXLFFBQVEsbUJBQVIsQ0FBZjs7QUFFQSxTQUFTLGFBQVQsQ0FBdUIsQ0FBdkIsRUFBMEIsQ0FBMUIsRUFBNkI7QUFDekIsV0FBTyxLQUFLLE1BQUwsS0FBZ0IsR0FBdkI7QUFDSDs7QUFHRCxTQUFTLFNBQVQsQ0FBbUIsS0FBbkIsRUFBMEI7QUFDdEIsUUFBSSxVQUFVLE1BQU0sTUFBcEI7O0FBRUE7QUFDQSxXQUFPLFVBQVUsQ0FBakIsRUFBb0I7QUFDaEI7QUFDQSxZQUFJLFFBQVEsS0FBSyxLQUFMLENBQVcsS0FBSyxNQUFMLEtBQWdCLE9BQTNCLENBQVo7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFlBQUksT0FBTyxNQUFNLE9BQU4sQ0FBWDtBQUNBLGNBQU0sT0FBTixJQUFpQixNQUFNLEtBQU4sQ0FBakI7QUFDQSxjQUFNLEtBQU4sSUFBZSxJQUFmO0FBQ0g7O0FBRUQsV0FBTyxLQUFQO0FBQ0g7O0FBRUQsT0FBTyxPQUFQLEdBQWlCO0FBQ2IsVUFBTSxFQURPO0FBRWIsY0FBVTtBQUNOLGVBQU8sSUFBSSxPQUFKLENBQVksQ0FBQyxPQUFELEVBQVUsTUFBVixLQUFvQjtBQUNuQyxxQkFBUyxPQUFULENBQWlCLDBDQUFqQixFQUE2RCxVQUFTLElBQVQsRUFBZTtBQUN4RSx3QkFBUSxJQUFSO0FBQ0gsYUFGRDtBQUdILFNB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O0FBQ3RDLG1CQUFHLEtBQUgsQ0FBUyxJQUFULEVBQWUsSUFBZjtBQUNILGFBRkQ7QUFHSDtBQUNKLEtBaERELEVBa0RBLEtBQUssT0FBTCxHQUFlLFVBQVMsTUFBVCxFQUFpQixHQUFqQixFQUFzQixJQUF0QixFQUE0QjtBQUN2QyxnQkFBUSxHQUFSLENBQVksTUFBWjtBQUNBLGVBQU8sR0FBUCxHQUFhLEdBQWI7QUFDQSxlQUFPLFVBQVAsQ0FBa0IsU0FBbEIsQ0FBNEIsR0FBNUIsQ0FBZ0MsUUFBaEM7QUFDSCxLQXRERCxFQXdEQSxLQUFLLFFBQUwsR0FBZ0IsWUFBVztBQUN2QixZQUFJLFNBQVMsV0FBVyxRQUFYLENBQW9CLGdCQUFwQixDQUFiO0FBQ0EsYUFBSSxJQUFJLElBQUksQ0FBWixFQUFlLElBQUksT0FBTyxNQUExQixFQUFrQyxHQUFsQyxFQUF1QztBQUNuQyxtQkFBTyxDQUFQLEVBQVUsU0FBVixDQUFvQixNQUFwQixDQUEyQixRQUEzQjtBQUNBLG1CQUFPLENBQVAsRUFBVSxRQUFWLENBQW1CLENBQW5CLEVBQXNCLEdBQXRCLEdBQTRCLG1CQUE1QjtBQUNIO0FBQ0osS0E5REQ7QUFtRUgsQ0E1RUQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiXHJcbmxldCBWaWV3ID0gcmVxdWlyZSgnLi92aWV3Jyk7XHJcbmxldCBQcmVzZW50ZXIgPSByZXF1aXJlKCcuL3ByZXNlbnRlcicpO1xyXG5cclxubmV3IFByZXNlbnRlcihuZXcgVmlldygpKTsiLCJsZXQgZXZlbnRPYmogPSByZXF1aXJlKCcuL3N0YXRpYy9ldmVudE9iaicpO1xyXG5cclxuZnVuY3Rpb24gcmFuZG9tTnVtYmVycyhhLCBiKSB7XHJcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKSAtIDAuNTtcclxufTtcclxuXHJcblxyXG5mdW5jdGlvbiBtaXhJbWFnZXMoYXJyYXkpIHtcclxuICAgIGxldCBjb3VudGVyID0gYXJyYXkubGVuZ3RoO1xyXG5cclxuICAgIC8vIFdoaWxlIHRoZXJlIGFyZSBlbGVtZW50cyBpbiB0aGUgYXJyYXlcclxuICAgIHdoaWxlIChjb3VudGVyID4gMCkge1xyXG4gICAgICAgIC8vIFBpY2sgYSByYW5kb20gaW5kZXhcclxuICAgICAgICBsZXQgaW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjb3VudGVyKTtcclxuXHJcbiAgICAgICAgLy8gRGVjcmVhc2UgY291bnRlciBieSAxXHJcbiAgICAgICAgY291bnRlci0tO1xyXG5cclxuICAgICAgICAvLyBBbmQgc3dhcCB0aGUgbGFzdCBlbGVtZW50IHdpdGggaXRcclxuICAgICAgICBsZXQgdGVtcCA9IGFycmF5W2NvdW50ZXJdO1xyXG4gICAgICAgIGFycmF5W2NvdW50ZXJdID0gYXJyYXlbaW5kZXhdO1xyXG4gICAgICAgIGFycmF5W2luZGV4XSA9IHRlbXA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFycmF5O1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGRhdGE6IFtdLFxyXG4gICAgZ2V0U2l6ZSgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50T2JqLmFqYXhHZXQoJ2h0dHBzOi8va2RlLmxpbmsvdGVzdC9nZXRfZmllbGRfc2l6ZS5waHAnLCBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKGRhdGEpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgZ2V0SW1hZ2VzKCkge1xyXG4gICAgICAgIHZhciBpbWFnZVBhdGggPSBbXTtcclxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpPDEwOyBpKyspIHtcclxuICAgICAgICAgICAgaW1hZ2VQYXRoLnB1c2goJ2h0dHBzOi8va2RlLmxpbmsvdGVzdC8nKyBpICsnLnBuZycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW1hZ2VQYXRoO1xyXG4gICAgfSxcclxuICAgIGdldE1peEFycih3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgbGV0IGFsbEltZyA9IG1peEltYWdlcyggdGhpcy5nZXRJbWFnZXMoKSApO1xyXG4gICAgICAgIG5ld0FyciA9IFtdO1xyXG4gICAgICAgIGxldCBtYXhJbWcgPSBhbGxJbWcubGVuZ3RoO1xyXG4gICAgICAgIGxldCBjb3VudGVyID0gMDtcclxuXHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHdpZHRoKmhlaWdodC8yOyBpKyspIHtcclxuICAgICAgICAgICAgaWYoICFhbGxJbWdbY291bnRlcl0gKSB7XHJcbiAgICAgICAgICAgICAgICBjb3VudGVyID0gMDtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5ld0Fyci5wdXNoKGFsbEltZ1tjb3VudGVyXSk7XHJcbiAgICAgICAgICAgIGlmICggYWxsSW1nW2NvdW50ZXJdICl7XHJcbiAgICAgICAgICAgICAgICBjb3VudGVyKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBuZXdBcnI7XHJcbiAgICB9LFxyXG4gICAgc2F2ZURhdGEod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIGxldCBmaXJzdEFyciA9IHRoaXMuZ2V0TWl4QXJyKHdpZHRoLGhlaWdodCk7XHJcbiAgICAgICAgbGV0IHNlY29uZEFyciA9IG1peEltYWdlcyggZmlyc3RBcnIuc2xpY2UoKSApO1xyXG5cclxuICAgICAgICB0aGlzLmRhdGEgPSBmaXJzdEFyci5jb25jYXQoc2Vjb25kQXJyKTtcclxuICAgIH0sXHJcbiAgICBnZXREYXRhKGluZGV4KSB7XHJcbiAgICAgICAgbGV0IHggPSAwO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGE7XHJcbiAgICB9LFxyXG4gICAgZ2V0SW1nVG9JbmRleChpbmRleCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFbaW5kZXggLSAxXTtcclxuICAgIH1cclxuXHJcbn0iLCJsZXQgZXZlbnRPYmogPSByZXF1aXJlKCcuL3N0YXRpYy9ldmVudE9iaicpO1xyXG5sZXQgRE9NbWV0aG9kcyA9IHJlcXVpcmUoJy4vc3RhdGljL0RPTW1ldGhvZHMnKTtcclxubGV0IG1vZGVsID0gcmVxdWlyZSgnLi9tb2RlbCcpO1xyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHZpZXcpIHtcclxuXHJcbiAgICBtb2RlbC5nZXRTaXplKCkudGhlbigoZGF0YSk9PiB7XHJcblxyXG4gICAgICAgIGxldCB3aWR0aCA9IGRhdGEud2lkdGggPD0gOCA/IGRhdGEud2lkdGggOiA4LFxyXG4gICAgICAgICAgICBoZWlnaHQgPSBkYXRhLmhlaWdodCA8PSA4ID8gZGF0YS5oZWlnaHQ6IDg7XHJcblxyXG4gICAgICAgIHZpZXcucmVuZGVyKHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICBtb2RlbC5zYXZlRGF0YSh3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICB2aWV3Lm9uKCdjaGVjaycsIGZ1bmN0aW9uKCB0YXJnZXQgKSB7XHJcblxyXG4gICAgICAgIGxldCBpbmRleCA9IHRhcmdldC5wYXJlbnROb2RlLmRhdGFzZXQuaWQ7XHJcbiAgICAgICAgbGV0IGZsYWcgPSBpbmRleCA/IHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpIDogbnVsbFxyXG4gICAgICAgIHZpZXcuY2xvc2VJbWcoKTtcclxuICAgICAgICBpZihpbmRleCkge1xyXG4gICAgICAgICAgICBsZXQgdGhpc0ltZyA9IG1vZGVsLmdldEltZ1RvSW5kZXgoaW5kZXgpO1xyXG4gICAgICAgICAgICBpZighZmxhZykge1xyXG4gICAgICAgICAgICAgICAgdmlldy5vcGVuSW1nKHRhcmdldCwgdGhpc0ltZyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG5cclxuXHJcbn0iLCJsZXQgZXZlbnRPYmogPSByZXF1aXJlKCcuL2V2ZW50T2JqJyk7XHJcbm1vZHVsZS5leHBvcnRzID0gIHtcclxuICAgIGdldElkKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKVxyXG4gICAgfSxcclxuXHJcbiAgICBnZXRUYWcodGFnKSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZylcclxuICAgIH0sXHJcblxyXG4gICAgZ2V0QXR0cihldmVudCwgYXR0cikge1xyXG4gICAgICAgIGxldCB0YXJnZXQgPSBldmVudE9iai5nZXRUYXJnZXQoZXZlbnQpO1xyXG4gICAgICAgIGxldCBkYXRhID0gdGFyZ2V0LmdldEF0dHJpYnV0ZShhdHRyKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9LFxyXG5cclxuICAgIGdldE5hbWUobmFtZSkge1xyXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShuYW1lKTtcclxuICAgIH0sXHJcblxyXG4gICAgZ2V0Q2xhc3MoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xhc3NOYW1lKVxyXG4gICAgfSxcclxuXHJcbiAgICBnZXRTdHlsZShpZCkge1xyXG4gICAgICAgIHRoaXMuZ2V0SWQoaWQpO1xyXG4gICAgICAgIHJldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmdldElkKGlkKSlcclxuICAgIH0sXHJcblxyXG4gICAgYWRkQ2xhc3MoaWQsIGNsYXNzTmFtZSkge1xyXG4gICAgICAgIHZhciBlID0gdGhpcy5nZXRJZChpZCk7XHJcbiAgICAgICAgcmV0dXJuIGUuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xyXG4gICAgfSxcclxuXHJcbiAgICByZW1vdmVDbGFzcyhpZCwgY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgdmFyIGUgPSB0aGlzLmdldElkKGlkKTtcclxuICAgICAgICByZXR1cm4gZS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XHJcbiAgICB9XHJcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGFkZEV2ZW50OiBmdW5jdGlvbiAoZSwgdHlwZSwgZm4pIHtcclxuICAgICAgICBpZiAodHlwZW9mIGFkZEV2ZW50TGlzdGVuZXIgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIGUuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmbiwgZmFsc2UpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGF0dGFjaEV2ZW50ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBlLmF0dGFjaEV2ZW50KCdvbicgKyB0eXBlLCBmbik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZVsnb24nICsgdHlwZV0gPSBmbjtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHJlbW92ZUV2ZW50OiBmdW5jdGlvbiAoZSwgdHlwZSwgZm4pIHtcclxuICAgICAgICBpZiAodHlwZW9mIHJlbW92ZUV2ZW50TGlzdGVuZXIgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIGUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmbiwgZmFsc2UpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGF0dGFjaEV2ZW50ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBlLmRldGFjaEV2ZW50KCdvbicgKyB0eXBlLCBmbik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZVsnb24nICsgdHlwZV0gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgZ2V0VGFyZ2V0OiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgZXZlbnQgPSB3aW5kb3cuZXZlbnQgfHwgZXZlbnQ7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBldmVudC50YXJnZXQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGV2dC5zcmNFbGVtZW50O1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZXZlbnQucHJldmVudERlZmF1bHQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIGFqYXhHZXQ6IGZ1bmN0aW9uICh1cmwsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xyXG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09IDQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PSAyMDApXHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soSlNPTi5wYXJzZSh0aGlzLnJlc3BvbnNlVGV4dCkpO1xyXG4gICAgICAgICAgICAgICAgLy8g0LjQvdCw0YfQtSDRgdC10YLQtdCy0LDRjyDQvtGI0LjQsdC60LBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgeGhyLnNlbmQobnVsbCk7XHJcbiAgICB9XHJcbn0iLCJsZXQgZXZlbnRPYmogPSByZXF1aXJlKCcuL3N0YXRpYy9ldmVudE9iaicpO1xyXG5sZXQgRE9NbWV0aG9kcyA9IHJlcXVpcmUoJy4vc3RhdGljL0RPTW1ldGhvZHMnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgdGhldCA9IHRoaXM7XHJcbiAgICB0aGlzLmhhbmRsZXJzID0ge307XHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgdGhldC50cmlnZ2VyKCdjaGVjaycsIGUudGFyZ2V0KTtcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICB0aGlzLnJlbmRlciA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcclxuXHJcbiAgICAgICAgbGV0IGxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xyXG4gICAgICAgIGxpc3QuY2xhc3NMaXN0LmFkZCgnZ2FtZS1hcHBfX2xpc3QnKTtcclxuICAgICAgICBsZXQgY291bnRlciA9IDA7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGhlaWdodDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgZm9yKHZhciBqID0gMDsgaiA8IHdpZHRoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGNvdW50ZXIrKztcclxuICAgICAgICAgICAgICAgIGxldCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgICAgICAgICAgICAgIGxldCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgIGxldCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ2dhbWUtYXBwX19pdGVtJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoJ2dhbWUtYXBwX19saW5rJyk7XHJcbiAgICAgICAgICAgICAgICBidG4uZGF0YXNldC5pZCA9IGNvdW50ZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgaW1nLmNsYXNzTGlzdC5hZGQoJ2dhbWUtYXBwX19pbWcnKTtcclxuICAgICAgICAgICAgICAgIGltZy5zcmMgPSAnaW1hZ2UvZGVmYXVsdC5wbmcnO1xyXG5cclxuICAgICAgICAgICAgICAgIGl0ZW0uc3R5bGUud2lkdGggPSBgY2FsYygxMDAlLyR7d2lkdGh9YDtcclxuICAgICAgICAgICAgICAgIGJ0bi5hcHBlbmRDaGlsZChpbWcpO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChidG4pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJvdy5jbGFzc0xpc3QuYWRkKCdnYW1lLWFwcF9fcm93Jyk7XHJcbiAgICAgICAgICAgICAgICByb3cuYXBwZW5kKGl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxpc3QuYXBwZW5kQ2hpbGQocm93KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgRE9NbWV0aG9kcy5nZXRJZCgnY29udGFpbmVyJykuYXBwZW5kQ2hpbGQobGlzdCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHRoaXMub24gPSBmdW5jdGlvbihldmVudCwgZm4pIHtcclxuICAgICAgICB0aGlzLmhhbmRsZXJzW2V2ZW50XSA9IHRoaXMuaGFuZGxlcnNbZXZlbnRdIHx8IFtdO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5oYW5kbGVyc1tldmVudF0uaW5kZXhPZihmbikgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlcnNbZXZlbnRdLnB1c2goZm4pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB0aGlzLnRyaWdnZXIgPSBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLmhhbmRsZXJzW2V2ZW50XSkge1xyXG4gICAgICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZXJzW2V2ZW50XS5mb3JFYWNoKGZ1bmN0aW9uKGZuKSB7XHJcbiAgICAgICAgICAgICAgICBmbi5hcHBseShudWxsLCBhcmdzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICB0aGlzLm9wZW5JbWcgPSBmdW5jdGlvbih0YXJnZXQsIHNyYywgZmxhZykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRhcmdldCk7XHJcbiAgICAgICAgdGFyZ2V0LnNyYyA9IHNyYztcclxuICAgICAgICB0YXJnZXQucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgIH0sXHJcblxyXG4gICAgdGhpcy5jbG9zZUltZyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGxldCBhbGxJbWcgPSBET01tZXRob2RzLmdldENsYXNzKCdnYW1lLWFwcF9fbGluaycpO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBhbGxJbWcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgYWxsSW1nW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICBhbGxJbWdbaV0uY2hpbGRyZW5bMF0uc3JjID0gJ2ltYWdlL2RlZmF1bHQucG5nJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG59OyJdfQ=="}